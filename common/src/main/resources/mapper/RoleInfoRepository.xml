<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tingbei.common.repository.RoleInfoRepository">

    <resultMap id="BaseRoleInfoMap" type="com.tingbei.common.entity.RoleInfo">
        <result column="ri_uuid" property="riUuid" jdbcType="VARCHAR"/>
        <result column="ri_role_name" property="riRoleName" jdbcType="VARCHAR"/>
        <result column="ri_role_desc" property="riRoleDesc" jdbcType="VARCHAR"/>
        <result column="ri_level" property="riLevel" jdbcType="VARCHAR"/>
        <result column="ri_arrtibute" property="riArrtibute" jdbcType="VARCHAR"/>
        <result column="ri_status" property="riStatus" jdbcType="VARCHAR"/>
        <result column="ri_create_man" property="riCreateMan" jdbcType="VARCHAR"/>
        <result column="ri_create_time" property="riCreateTime" jdbcType="TIMESTAMP"/>
        <result column="identity_code" property="identityCode" jdbcType="VARCHAR"/>
        <result column="area_code" property="areaCode" jdbcType="INTEGER"/>
    </resultMap>

<select id="selectByRoleDesc" parameterType="java.lang.String" resultMap="BaseRoleInfoMap">
    SELECT * FROM role_info
    WHERE 1=1
    <if test="null != riRoleDesc">
        AND ri_role_desc LIKE CONCAT('%','${riRoleDesc}','%' )
    </if>
    <if test="'SU' == attribute">
        AND ri_create_man = #{createMan,jdbcType=VARCHAR}
    </if>
</select>
</mapper>